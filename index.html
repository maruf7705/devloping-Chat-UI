<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Three.js Starter</title>
    <style>
      html,body { height:100%; margin:0; background:#0f1115; }
      canvas { display:block; width:100%; height:100%; }
    </style>
  </head>
  <body>
    <script type="module">
      import * as THREE from 'https://cdn.jsdelivr.net/npm/three@0.156.0/build/three.module.js';
      import { OrbitControls } from 'https://cdn.jsdelivr.net/npm/three@0.156.0/examples/jsm/controls/OrbitControls.js';

      const scene = new THREE.Scene();
      scene.fog = new THREE.FogExp2(0x0f1115, 0.035);

      const camera = new THREE.PerspectiveCamera(45, innerWidth/innerHeight, 0.1, 100);
      camera.position.set(0, 1.6, 4);

      const renderer = new THREE.WebGLRenderer({ antialias:true, alpha:false });
      renderer.setSize(innerWidth, innerHeight);
      renderer.physicallyCorrectLights = true;
      renderer.outputEncoding = THREE.sRGBEncoding;
      document.body.appendChild(renderer.domElement);

      // Lights
      const hemi = new THREE.HemisphereLight(0xffffff, 0x222222, 0.6);
      scene.add(hemi);
      const key = new THREE.DirectionalLight(0x9abaff, 0.9);
      key.position.set(2, 4, 2);
      key.castShadow = true;
      scene.add(key);

      // Ground
      const ground = new THREE.Mesh(
        new THREE.PlaneGeometry(20, 20),
        new THREE.MeshStandardMaterial({ color:0x0f1318, roughness:0.9, metalness:0 })
      );
      ground.rotation.x = -Math.PI/2;
      ground.position.y = -1;
      ground.receiveShadow = true;
      scene.add(ground);

      // Floating geometry
      const geom = new THREE.IcosahedronGeometry(1.0, 3);
      const mat = new THREE.MeshStandardMaterial({
        color: 0x00d0ff,
        roughness: 0.2,
        metalness: 0.6,
        emissive: 0x001a22,
        emissiveIntensity: 0.3
      });
      const mesh = new THREE.Mesh(geom, mat);
      mesh.position.y = 0.6;
      mesh.castShadow = true;
      scene.add(mesh);

      // Controls
      const controls = new OrbitControls(camera, renderer.domElement);
      controls.enableDamping = true;
      controls.dampingFactor = 0.08;
      controls.enablePan = false;
      controls.minDistance = 2;
      controls.maxDistance = 8;
      controls.maxPolarAngle = Math.PI/2;

      // Resize
      addEventListener('resize', ()=> {
        camera.aspect = innerWidth/innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(innerWidth, innerHeight);
      });

      // Animation
      const clock = new THREE.Clock();
      function animate(){
        requestAnimationFrame(animate);
        const t = clock.getElapsedTime();
        mesh.rotation.y = t * 0.35;
        mesh.position.y = 0.6 + Math.sin(t * 0.8) * 0.12;
        controls.update();
        renderer.render(scene, camera);
      }
      animate();
    </script>
  </body>
</html>
